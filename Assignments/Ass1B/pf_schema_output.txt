SQL> 
SQL> -- Generated by Oracle SQL Developer Data Modeler 23.1.0.087.0806
SQL> --   at:        2023-09-13 21:08:50 AEST
SQL> --   site:      Oracle Database 12c
SQL> --   type:      Oracle Database 12c
SQL> 
SQL> 
SQL> 
SQL> DROP TABLE animal CASCADE CONSTRAINTS;

Table ANIMAL dropped.

SQL> 
SQL> DROP TABLE animaltype CASCADE CONSTRAINTS;

Table ANIMALTYPE dropped.

SQL> 
SQL> DROP TABLE certificate CASCADE CONSTRAINTS;

Table CERTIFICATE dropped.

SQL> 
SQL> DROP TABLE clinic CASCADE CONSTRAINTS;

Table CLINIC dropped.

SQL> 
SQL> DROP TABLE drug CASCADE CONSTRAINTS;

Table DRUG dropped.

SQL> 
SQL> DROP TABLE owner CASCADE CONSTRAINTS;

Table OWNER dropped.

SQL> 
SQL> DROP TABLE prescription CASCADE CONSTRAINTS;

Table PRESCRIPTION dropped.

SQL> 
SQL> DROP TABLE service CASCADE CONSTRAINTS;

Table SERVICE dropped.

SQL> 
SQL> DROP TABLE serviceline CASCADE CONSTRAINTS;

Table SERVICELINE dropped.

SQL> 
SQL> DROP TABLE speciality CASCADE CONSTRAINTS;

Table SPECIALITY dropped.

SQL> 
SQL> DROP TABLE training CASCADE CONSTRAINTS;

Table TRAINING dropped.

SQL> 
SQL> DROP TABLE vet CASCADE CONSTRAINTS;

Table VET dropped.

SQL> 
SQL> DROP TABLE visit CASCADE CONSTRAINTS;

Table VISIT dropped.

SQL> 
SQL> -- predefined type, no DDL - MDSYS.SDO_GEOMETRY
SQL> 
SQL> -- predefined type, no DDL - XMLTYPE
SQL> 
SQL> CREATE TABLE animal (
  2      animal_id       NUMBER(6) NOT NULL,
  3      animal_name     VARCHAR2(20) NOT NULL,
  4      animal_yearborn NUMBER(4) NOT NULL,
  5      animal_alive    CHAR(1) DEFAULT 'Y' NOT NULL,
  6      animaltype_id   NUMBER(3) NOT NULL,
  7      owner_id        NUMBER(6) NOT NULL
  8  );

Table ANIMAL created.

SQL> 
SQL> ALTER TABLE animal
  2      ADD CONSTRAINT chk_animalalive CHECK ( animal_alive IN ( 'N', 'Y' ) );

Table ANIMAL altered.

SQL> 
SQL> COMMENT ON COLUMN animal.animal_id IS
  2      'Unique identifier for animal';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN animal.animal_name IS
  2      'Name of animal';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN animal.animal_yearborn IS
  2      'Year the animal was born';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN animal.animal_alive IS
  2      'Whether animal is alive or not (defaults to Y for yes)';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN animal.animaltype_id IS
  2      'Unique Identifier for Animal Type';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN animal.owner_id IS
  2      'Unique identifier of owner';

Comment created.

SQL> 
SQL> ALTER TABLE animal ADD CONSTRAINT animal_pk PRIMARY KEY ( animal_id );

Table ANIMAL altered.

SQL> 
SQL> CREATE TABLE animaltype (
  2      animaltype_id   NUMBER(3) NOT NULL,
  3      animaltype_name VARCHAR2(20) NOT NULL
  4  );

Table ANIMALTYPE created.

SQL> 
SQL> COMMENT ON COLUMN animaltype.animaltype_id IS
  2      'Unique Identifier for Animal Type';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN animaltype.animaltype_name IS
  2      'Name of Animal Type';

Comment created.

SQL> 
SQL> ALTER TABLE animaltype ADD CONSTRAINT animaltype_pk PRIMARY KEY ( animaltype_id );

Table ANIMALTYPE altered.

SQL> 
SQL> CREATE TABLE certificate (
  2      cert_id        NUMBER(6) NOT NULL,
  3      cert_completed CHAR(1) NOT NULL,
  4      cert_expiry    DATE,
  5      training_id    NUMBER(5) NOT NULL,
  6      vet_id         NUMBER(4) NOT NULL
  7  );

Table CERTIFICATE created.

SQL> 
SQL> ALTER TABLE certificate
  2      ADD CONSTRAINT chk_cert_completed CHECK ( cert_completed IN ( 'N', 'Y' ) );

Table CERTIFICATE altered.

SQL> 
SQL> COMMENT ON COLUMN certificate.cert_id IS
  2      'Unique identifier for certificate';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN certificate.cert_completed IS
  2      'Whether certificate was given or not (training completed or not)';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN certificate.cert_expiry IS
  2      'Date of expiry for the certificate (if expires)';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN certificate.training_id IS
  2      'Unique identifer for a training';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN certificate.vet_id IS
  2      'Unique identifier for vet';

Comment created.

SQL> 
SQL> ALTER TABLE certificate ADD CONSTRAINT certificate_pk PRIMARY KEY ( cert_id );

Table CERTIFICATE altered.

SQL> 
SQL> ALTER TABLE certificate ADD CONSTRAINT certificate_uks UNIQUE ( training_id,
  2                                                                  vet_id );

Table CERTIFICATE altered.

SQL> 
SQL> CREATE TABLE clinic (
  2      clinic_id      NUMBER(4) NOT NULL,
  3      clinic_name    VARCHAR2(50) NOT NULL,
  4      clinic_address VARCHAR2(80) NOT NULL,
  5      clinic_phoneno CHAR(10) NOT NULL,
  6      vet_id         NUMBER(4) NOT NULL
  7  );

Table CLINIC created.

SQL> 
SQL> COMMENT ON COLUMN clinic.clinic_id IS
  2      'Unique identifier for the clinic';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN clinic.clinic_name IS
  2      'Name of the clinic';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN clinic.clinic_address IS
  2      'Full street address of the clinic';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN clinic.clinic_phoneno IS
  2      'Phone number of the clinic';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN clinic.vet_id IS
  2      'Unique identifier for vet';

Comment created.

SQL> 
SQL> CREATE UNIQUE INDEX clinic__idx ON
  2      clinic (
  3          vet_id
  4      ASC );

INDEX CLINIC__IDX created.

SQL> 
SQL> ALTER TABLE clinic ADD CONSTRAINT clinic_pk PRIMARY KEY ( clinic_id );

Table CLINIC altered.

SQL> 
SQL> CREATE TABLE drug (
  2      drug_id         NUMBER(4) NOT NULL,
  3      drug_name       VARCHAR2(30) NOT NULL,
  4      drug_usageinstr VARCHAR2(100) NOT NULL,
  5      drug_charge     NUMBER(6, 2) NOT NULL
  6  );

Table DRUG created.

SQL> 
SQL> COMMENT ON COLUMN drug.drug_id IS
  2      'Unique identifier of drug';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN drug.drug_name IS
  2      'Name of drug';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN drug.drug_usageinstr IS
  2      'Usage instructions for the drug';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN drug.drug_charge IS
  2      'Standard charge for the drug in dollars';

Comment created.

SQL> 
SQL> ALTER TABLE drug ADD CONSTRAINT drug_pk PRIMARY KEY ( drug_id );

Table DRUG altered.

SQL> 
SQL> CREATE TABLE owner (
  2      owner_id      NUMBER(6) NOT NULL,
  3      owner_gname   VARCHAR2(30),
  4      owner_fname   VARCHAR2(30),
  5      owner_phoneno CHAR(10) NOT NULL
  6  );

Table OWNER created.

SQL> 
SQL> COMMENT ON COLUMN owner.owner_id IS
  2      'Unique identifier of owner';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN owner.owner_gname IS
  2      'Given name of owner (optional becuase owner may not have given name)';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN owner.owner_fname IS
  2      'Family name of owner (optional because owner may choose not to provide family name)'
  3  ;

Comment created.

SQL> 
SQL> COMMENT ON COLUMN owner.owner_phoneno IS
  2      'Phone number of owner';

Comment created.

SQL> 
SQL> ALTER TABLE owner ADD CONSTRAINT owner_pk PRIMARY KEY ( owner_id );

Table OWNER altered.

SQL> 
SQL> CREATE TABLE prescription (
  2      visit_id                 NUMBER(7) NOT NULL,
  3      drug_id                  NUMBER(4) NOT NULL,
  4      prescription_dosage      VARCHAR2(60) NOT NULL,
  5      prescription_freqadmin   VARCHAR2(60) NOT NULL,
  6      prescription_qtysupplied NUMBER(4) NOT NULL,
  7      prescription_linecost    NUMBER(6, 2) NOT NULL
  8  );

Table PRESCRIPTION created.

SQL> 
SQL> COMMENT ON COLUMN prescription.visit_id IS
  2      'Unique identifier for a visit';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN prescription.drug_id IS
  2      'Unique identifier of drug';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN prescription.prescription_dosage IS
  2      'Dosage of drug for prescription';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN prescription.prescription_freqadmin IS
  2      'Frequency of administration for the drug in the prescription';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN prescription.prescription_qtysupplied IS
  2      'Quantity of drug supplied for prescription';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN prescription.prescription_linecost IS
  2      'Line cost for drug prescription';

Comment created.

SQL> 
SQL> ALTER TABLE prescription ADD CONSTRAINT prescription_pk PRIMARY KEY ( visit_id,
  2                                                                        drug_id );

Table PRESCRIPTION altered.

SQL> 
SQL> CREATE TABLE service (
  2      service_code   CHAR(5) NOT NULL,
  3      service_desc   VARCHAR2(100) NOT NULL,
  4      service_charge NUMBER(6, 2) NOT NULL
  5  );

Table SERVICE created.

SQL> 
SQL> COMMENT ON COLUMN service.service_code IS
  2      'Service code (unique idenitifier with "ABC00". First three characters uppercase letters, last two characters are numbers)'
  3  ;

Comment created.

SQL> 
SQL> COMMENT ON COLUMN service.service_desc IS
  2      'Description of service';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN service.service_charge IS
  2      'Standard charge for the service';

Comment created.

SQL> 
SQL> ALTER TABLE service ADD CONSTRAINT service_pk PRIMARY KEY ( service_code );

Table SERVICE altered.

SQL> 
SQL> CREATE TABLE serviceline (
  2      service_code     CHAR(5) NOT NULL,
  3      visit_id         NUMBER(7) NOT NULL,
  4      serviceline_cost NUMBER(6, 2) NOT NULL
  5  );

Table SERVICELINE created.

SQL> 
SQL> COMMENT ON COLUMN serviceline.service_code IS
  2      'Service code (unique idenitifier with "ABC00". First three characters uppercase letters, last two characters are numbers)'
  3  ;

Comment created.

SQL> 
SQL> COMMENT ON COLUMN serviceline.visit_id IS
  2      'Unique identifier for a visit';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN serviceline.serviceline_cost IS
  2      'Cost of service (updated by vet for each visit)';

Comment created.

SQL> 
SQL> ALTER TABLE serviceline ADD CONSTRAINT serviceline_pk PRIMARY KEY ( service_code,
  2                                                                      visit_id );

Table SERVICELINE altered.

SQL> 
SQL> CREATE TABLE speciality (
  2      speciality_id   NUMBER(3) NOT NULL,
  3      speciality_name VARCHAR2(20) NOT NULL
  4  );

Table SPECIALITY created.

SQL> 
SQL> COMMENT ON COLUMN speciality.speciality_id IS
  2      'Unique Identifyer for Speciality';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN speciality.speciality_name IS
  2      'Name of Speciality';

Comment created.

SQL> 
SQL> ALTER TABLE speciality ADD CONSTRAINT speciality_pk PRIMARY KEY ( speciality_id );

Table SPECIALITY altered.

SQL> 
SQL> CREATE TABLE training (
  2      training_id       NUMBER(5) NOT NULL,
  3      training_datetime DATE NOT NULL,
  4      training_title    VARCHAR2(40) NOT NULL,
  5      training_duration NUMBER(3, 1) NOT NULL,
  6      clinic_id         NUMBER(4) NOT NULL,
  7      vet_id            NUMBER(4) NOT NULL
  8  );

Table TRAINING created.

SQL> 
SQL> COMMENT ON COLUMN training.training_id IS
  2      'Unique identifer for a training';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN training.training_datetime IS
  2      'Date and time for the training that took place';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN training.training_title IS
  2      'Title of the training';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN training.training_duration IS
  2      'Duration of the training (in hours)';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN training.clinic_id IS
  2      'Unique identifier for the clinic';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN training.vet_id IS
  2      'Unique identifier for vet';

Comment created.

SQL> 
SQL> ALTER TABLE training ADD CONSTRAINT training_pk PRIMARY KEY ( training_id );

Table TRAINING altered.

SQL> 
SQL> CREATE TABLE vet (
  2      vet_id           NUMBER(4) NOT NULL,
  3      vet_gname        VARCHAR2(30),
  4      vet_fname        VARCHAR2(30),
  5      vet_phoneno      CHAR(10) NOT NULL,
  6      vet_dateemployed DATE NOT NULL,
  7      clinic_id        NUMBER(4) NOT NULL,
  8      speciality_id    NUMBER(3)
  9  );

Table VET created.

SQL> 
SQL> COMMENT ON COLUMN vet.vet_id IS
  2      'Unique identifier for vet';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN vet.vet_gname IS
  2      'Given name of vet (optional because vet may not have a given name)';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN vet.vet_fname IS
  2      'Family name of vet (optional because vet may choose not to provide their family name)'
  3  ;

Comment created.

SQL> 
SQL> COMMENT ON COLUMN vet.vet_phoneno IS
  2      'Phone number of vet';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN vet.vet_dateemployed IS
  2      'Date of employment for vet';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN vet.clinic_id IS
  2      'Unique identifier for the clinic';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN vet.speciality_id IS
  2      'Unique Identifyer for Speciality';

Comment created.

SQL> 
SQL> ALTER TABLE vet ADD CONSTRAINT vet_pk PRIMARY KEY ( vet_id );

Table VET altered.

SQL> 
SQL> CREATE TABLE visit (
  2      visit_id           NUMBER(7) NOT NULL,
  3      visit_datetime     DATE NOT NULL,
  4      visit_animalweight NUMBER(6, 2) NOT NULL,
  5      visit_length       NUMBER(3) NOT NULL,
  6      visit_notes        VARCHAR2(200),
  7      visit_amount       NUMBER(6, 2) NOT NULL,
  8      visit_paytype      CHAR(1) NOT NULL,
  9      animal_id          NUMBER(6) NOT NULL,
 10      vet_id             NUMBER(4) NOT NULL,
 11      clinic_id          NUMBER(4) NOT NULL,
 12      initial_visit_id   NUMBER(7)
 13  );

Table VISIT created.

SQL> 
SQL> COMMENT ON COLUMN visit.visit_id IS
  2      'Unique identifier for a visit';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.visit_datetime IS
  2      'Date and time of visit';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.visit_animalweight IS
  2      'Weight of animal at visit';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.visit_length IS
  2      'Length of visit in minutes';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.visit_notes IS
  2      'Notes from vet about condition of animal';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.visit_amount IS
  2      'Total dollar amount for services and drugs provided at visit';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.visit_paytype IS
  2      'Visit payment type';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.animal_id IS
  2      'Unique identifier for animal';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.vet_id IS
  2      'Unique identifier for vet';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.clinic_id IS
  2      'Unique identifier for the clinic';

Comment created.

SQL> 
SQL> COMMENT ON COLUMN visit.initial_visit_id IS
  2      'Unique identifier for a visit';

Comment created.

SQL> 
SQL> ALTER TABLE visit ADD CONSTRAINT visit_pk PRIMARY KEY ( visit_id );

Table VISIT altered.

SQL> 
SQL> ALTER TABLE visit ADD CONSTRAINT visit_uk UNIQUE ( visit_datetime,
  2                                                     animal_id );

Table VISIT altered.

SQL> 
SQL> ALTER TABLE visit
  2      ADD CONSTRAINT animal_visit FOREIGN KEY ( animal_id )
  3          REFERENCES animal ( animal_id );

Table VISIT altered.

SQL> 
SQL> ALTER TABLE animal
  2      ADD CONSTRAINT animaltype_animal FOREIGN KEY ( animaltype_id )
  3          REFERENCES animaltype ( animaltype_id );

Table ANIMAL altered.

SQL> 
SQL> ALTER TABLE training
  2      ADD CONSTRAINT clinic_traning FOREIGN KEY ( clinic_id )
  3          REFERENCES clinic ( clinic_id );

Table TRAINING altered.

SQL> 
SQL> ALTER TABLE vet
  2      ADD CONSTRAINT clinic_vet FOREIGN KEY ( clinic_id )
  3          REFERENCES clinic ( clinic_id );

Table VET altered.

SQL> 
SQL> ALTER TABLE visit
  2      ADD CONSTRAINT clinic_visit FOREIGN KEY ( clinic_id )
  3          REFERENCES clinic ( clinic_id );

Table VISIT altered.

SQL> 
SQL> ALTER TABLE prescription
  2      ADD CONSTRAINT drug_prescription FOREIGN KEY ( drug_id )
  3          REFERENCES drug ( drug_id );

Table PRESCRIPTION altered.

SQL> 
SQL> ALTER TABLE animal
  2      ADD CONSTRAINT owner_animal FOREIGN KEY ( owner_id )
  3          REFERENCES owner ( owner_id );

Table ANIMAL altered.

SQL> 
SQL> ALTER TABLE serviceline
  2      ADD CONSTRAINT service_serviceline FOREIGN KEY ( service_code )
  3          REFERENCES service ( service_code );

Table SERVICELINE altered.

SQL> 
SQL> ALTER TABLE vet
  2      ADD CONSTRAINT specialty_vet FOREIGN KEY ( speciality_id )
  3          REFERENCES speciality ( speciality_id );

Table VET altered.

SQL> 
SQL> ALTER TABLE certificate
  2      ADD CONSTRAINT training_certificate FOREIGN KEY ( training_id )
  3          REFERENCES training ( training_id );

Table CERTIFICATE altered.

SQL> 
SQL> ALTER TABLE certificate
  2      ADD CONSTRAINT vet_certificate FOREIGN KEY ( vet_id )
  3          REFERENCES vet ( vet_id );

Table CERTIFICATE altered.

SQL> 
SQL> ALTER TABLE clinic
  2      ADD CONSTRAINT vet_clinic FOREIGN KEY ( vet_id )
  3          REFERENCES vet ( vet_id );

Table CLINIC altered.

SQL> 
SQL> ALTER TABLE training
  2      ADD CONSTRAINT vet_traning FOREIGN KEY ( vet_id )
  3          REFERENCES vet ( vet_id );

Table TRAINING altered.

SQL> 
SQL> ALTER TABLE visit
  2      ADD CONSTRAINT vet_visit FOREIGN KEY ( vet_id )
  3          REFERENCES vet ( vet_id );

Table VISIT altered.

SQL> 
SQL> ALTER TABLE prescription
  2      ADD CONSTRAINT visit_prescription FOREIGN KEY ( visit_id )
  3          REFERENCES visit ( visit_id );

Table PRESCRIPTION altered.

SQL> 
SQL> ALTER TABLE serviceline
  2      ADD CONSTRAINT visit_serviceline FOREIGN KEY ( visit_id )
  3          REFERENCES visit ( visit_id );

Table SERVICELINE altered.

SQL> 
SQL> ALTER TABLE visit
  2      ADD CONSTRAINT visit_subsequent_visit FOREIGN KEY ( initial_visit_id )
  3          REFERENCES visit ( visit_id );

Table VISIT altered.

SQL> 
SQL> 
SQL> 
SQL> -- Oracle SQL Developer Data Modeler Summary Report: 
SQL> -- 
SQL> -- CREATE TABLE                            13
SQL> -- CREATE INDEX                             1
SQL> -- ALTER TABLE                             34
SQL> -- CREATE VIEW                              0
SQL> -- ALTER VIEW                               0
SQL> -- CREATE PACKAGE                           0
SQL> -- CREATE PACKAGE BODY                      0
SQL> -- CREATE PROCEDURE                         0
SQL> -- CREATE FUNCTION                          0
SQL> -- CREATE TRIGGER                           0
SQL> -- ALTER TRIGGER                            0
SQL> -- CREATE COLLECTION TYPE                   0
SQL> -- CREATE STRUCTURED TYPE                   0
SQL> -- CREATE STRUCTURED TYPE BODY              0
SQL> -- CREATE CLUSTER                           0
SQL> -- CREATE CONTEXT                           0
SQL> -- CREATE DATABASE                          0
SQL> -- CREATE DIMENSION                         0
SQL> -- CREATE DIRECTORY                         0
SQL> -- CREATE DISK GROUP                        0
SQL> -- CREATE ROLE                              0
SQL> -- CREATE ROLLBACK SEGMENT                  0
SQL> -- CREATE SEQUENCE                          0
SQL> -- CREATE MATERIALIZED VIEW                 0
SQL> -- CREATE MATERIALIZED VIEW LOG             0
SQL> -- CREATE SYNONYM                           0
SQL> -- CREATE TABLESPACE                        0
SQL> -- CREATE USER                              0
SQL> -- 
SQL> -- DROP TABLESPACE                          0
SQL> -- DROP DATABASE                            0
SQL> -- 
SQL> -- REDACTION POLICY                         0
SQL> -- TSDP POLICY                              0
SQL> -- 
SQL> -- ORDS DROP SCHEMA                         0
SQL> -- ORDS ENABLE SCHEMA                       0
SQL> -- ORDS ENABLE OBJECT                       0
SQL> -- 
SQL> -- ERRORS                                   0
SQL> -- WARNINGS                                 0
SQL> 
SQL> SPOOL off
